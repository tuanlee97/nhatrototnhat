import{r as j,j as e,aJ as g,aK as y,B as N,K as S,aq as u,aL as b,aM as w,aN as C,aO as F,aP as P,aQ as f,aR as v,f as p,aS as z}from"./index-ChY-99TT.js";import{P as E,j as I}from"./index-l88NgByK.js";function B({column:t,title:m,options:x,onChange:d,selected:l=[]}){const i=t==null?void 0:t.getFacetedUniqueValues(),[s,h]=j.useState(new Set(l));j.useEffect(()=>{const a=Array.from(s),r=l;(a.length!==r.length||a.some((n,c)=>n!==r[c]))&&h(new Set(l))},[l]);const o=a=>{h(new Set(a));const r=a.length?a:void 0;t==null||t.setFilterValue(r),d==null||d(a)};return e.jsxs(g,{children:[e.jsx(y,{asChild:!0,children:e.jsxs(N,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(E,{className:"h-4 w-4"}),m,(s==null?void 0:s.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(S,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(u,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:s.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:x.filter(a=>s.has(a.value)).map(a=>e.jsx(u,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:a.label},a.value))})]})]})}),e.jsx(b,{className:"w-[200px] p-0",align:"start",children:e.jsxs(w,{children:[e.jsx(C,{placeholder:m}),e.jsxs(F,{children:[e.jsx(P,{children:"Không tìm thấy kết quả."}),e.jsx(f,{children:x.map(a=>{const r=s.has(a.value);return e.jsxs(v,{onSelect:()=>{const n=new Set(s);r?n.delete(a.value):n.add(a.value);const c=Array.from(n);o(c)},children:[e.jsx("div",{className:p("flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(I,{className:p("h-4 w-4")})}),a.icon&&e.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:a.label}),(i==null?void 0:i.get(a.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:i.get(a.value)})]},a.value)})}),s.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx(f,{children:e.jsx(v,{onSelect:()=>{o([])},className:"justify-center text-center",children:"Xóa bộ lọc"})})]})]})]})})]})}export{B as D};
